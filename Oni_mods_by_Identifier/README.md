# Oni Mods by Identifier

This directory captures legacy identifiers of Oxygen Not Included mods that were once distributed separately from the main `src/` solution. In production it is published as its own repository so legacy packages can live on without pulling in the modern source tree. Use it to map historical package IDs to the actively maintained projects and to provide context for rebuilding or verifying those archived releases.

## Contents
- `ContainerTooltips/` — Original packaging of the Container Tooltips mod.
- `ZoomSpeed/` — Original packaging of the Zoom Speed mod.
- `lib/` — Placeholder for the shared binaries that supported the archived builds. The folder now stays empty in source control;
  populate it locally from your ONI installation or the maintained repository before rebuilding.
- `ONIMods.sln` — Solution file used when the identifier-based layout was current. Retain it for reference only; the canonical solution lives under `src/oniMods.sln` in the actively maintained repository.

## Rebuild Reference
When modernizing or validating these mods, always prefer the actively maintained solution at `src/oniMods.sln`. Because this identifier archive is shipped on its own, clone the primary maintenance repository alongside it (for example, as a sibling folder) so you can open `src/oniMods.sln` there. The legacy `Oni_mods_by_Identifier/ONIMods.sln` inside this repo can serve as a historical comparison, but new builds should flow through the `src/` projects and the MSBuild targets defined in `src/Directory.Build.targets` from the mainline codebase.

## Aligning with `src/ContainerTooltips`
1. **Prepare both repositories** — Clone this identifier archive as its own repository, then clone the actively maintained mods repository (the one that exposes `src/ContainerTooltips`) next to it. Keeping both checkouts sibling directories simplifies copy operations.
2. **Source of truth** — Treat `src/ContainerTooltips` in the maintained repository as the authoritative codebase. Do not edit C# files inside this archive except when copying over a known-good revision for archival packaging.
3. **Copy locations** — When you need to refresh this archive, copy `ContainerTooltips.csproj`, the `Properties/AssemblyInfo.cs`, and the entire `Translations/` folder from the maintained repository into `Oni_mods_by_Identifier/ContainerTooltips`. The translations are not generated by the legacy `ONIMods.sln` build, so this manual copy step is required to keep localization current. Rebuilds should use those synced files and omit any modifications made directly inside this repo.
4. **Namespaces** — Ensure all classes stay under the `ContainerTooltips` namespace to maintain compatibility with save data and translation keys. The legacy assemblies expect the same namespace layout that the current project uses.
5. **MSBuild targets** — Build the mod through the maintained repository's `src/oniMods.sln` so the shared `AutoIncrement.targets` and `Directory.Build.props` apply. These files inject required references (AzeLib, PLib) and configure the dev/release packaging steps.
6. **Dependencies** — Confirm the Harmony and PLib packages are restored (NuGet) before attempting a build. These are prerequisites for both the legacy and current versions of the mod.

## Synchronizing Localization & Assets
Before distributing an archival build:
- [ ] Pull the latest `.po` files from `src/ContainerTooltips/Translations` and ensure `_template.pot` is included. The translations do not originate from this archive, so keep them synced with the maintained repo before packaging.
- [ ] Verify asset manifests (textures, sounds) match the `src` project and copy any updates into `Oni_mods_by_Identifier/ContainerTooltips`
- [ ] Regenerate release packages using the `Release` MSBuild target so zips land under `Distribute/`.
- [ ] Update version metadata (mod_info.json, changelog) to match the mainline project.

## Handling Local Libraries
- The historic packages assumed a `lib/` folder populated with Harmony, PLib, and Unity assemblies extracted from a local ONI installation. These binaries are no longer tracked in source control to avoid redistributing game files.
- Before rebuilding, copy the required DLLs from your legally obtained ONI install (or from the maintained repository's build output) into `Oni_mods_by_Identifier/lib/` on your workstation. Keep the files local; the new `.gitignore` ensures they remain uncommitted.
- If new dependencies are required, document the source and expected filename in this section so future maintainers know how to repopulate their local `lib/` folder.

By following these steps, the identifier-based archive stays consistent with the actively maintained mods while remaining ready for historical reference.
